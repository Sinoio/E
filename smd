local rm = game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvent")
game.Players.PlayerAdded:Connect(function(p)
rm:FireClient(p, 
[[

-- LocalScript (StarterPlayerScripts)
local StarterGui = game:GetService("StarterGui")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local myCustomChatGui = playerGui:WaitForChild("MyCustomChatGui") -- replace

-- create bindable that the Core topbar will fire
local toggleEvent = Instance.new("BindableEvent")
toggleEvent.Name = "ToggleVisibility"
toggleEvent.Parent = script

StarterGui:SetCore("CoreGuiChatConnections", {
    ChatWindow = {
        ToggleVisibility = toggleEvent; -- intercepts topbar toggle
    };
})

toggleEvent.Event:Connect(function(visible)
    -- show/hide your TopbarPlus chat GUI instead of letting core handle it
    myCustomChatGui.Enabled = visible
    -- try to force the core "active" state off (may be unreliable on some engine versions)
    pcall(function() StarterGui:SetCore("ChatActive", false) end)
end)

]])
end)